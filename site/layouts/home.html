{{ define "main" }}

<main class="bg-white">

</main>
 
<div class="hero bg-teal white flip">
  {{ with .Params.hero }}
    {{ $imageResource := ($.Site.GetPage "section" "resources").Resources.GetMatch (strings.TrimPrefix "resources/" .image_ft ) }}
    {{ $resized := $imageResource.Fill "1200x1200" }}
    <img class="img-hero" src="{{ $resized.RelPermalink }}" alt="{{.alt}}"/>
  {{ end }}
  <div class="hero-text">
    <h1>{{ $.Param "hero.title"}}</h1>
    <p>{{ .Params.hero.subtitle}}</p>
    <a href="{{ "about" | relLangURL }}" class="btn bg-rose">{{ .Params.hero.button}}</a>
  </div>
</div>
<div class="fact-card-section">
  <h2>{{ $.Param "facts.title"}}</h2>
  <div class="fact-card-wrapper">
    {{ if $.Param "facts.card1" }}
    <div class="fact-card bg-green">
      <div class="card-img-wrapper">
        {{ if $.Param "facts.card1.icon" }}
        <img src="{{ $.Param "facts.card1.icon" }}" alt="{{ $.Param "facts.card1.fact"}}">
        {{ else }}
        <p>{{ $.Param "facts.card1.number"}}</p>
        {{ end }}
      </div>
      <p>{{ $.Param "facts.card1.fact"}}</p>
    </div>
    {{ end }}
    {{ if $.Param "facts.card2" }}
    <div class="fact-card bg-yellow">
      <div class="card-img-wrapper">
        {{ if $.Param "facts.card2.icon" }}
        <img src="{{ $.Param "facts.card2.icon" }}" alt="{{ $.Param "facts.card2.fact"}}">
        {{ else }}
        <p>{{ $.Param "facts.card2.number"}}</p>
        {{ end }}
      </div>
      <p>{{ $.Param "facts.card2.fact"}}</p>
    </div>
    {{ end }}
    {{ if $.Param "facts.card3" }}
    <div class="fact-card bg-orange">
      <div class="card-img-wrapper">
        {{ if $.Param "facts.card3.icon" }}
        <img src="{{ $.Param "facts.card3.icon" }}" alt="{{ $.Param "facts.card3.fact"}}">
        {{ else }}
        <p >{{ $.Param "facts.card3.number"}}</p>
        {{ end }}
      </div>
      <p>{{ $.Param "facts.card3.fact"}}</p>
    </div>
    {{ end }}
  
  </div>

</div>

<div class="section-half">
  <div class="section-half-wrapper">
    {{ with .Params.approach }}
      {{ $imageResource := ($.Site.GetPage "section" "resources").Resources.GetMatch (strings.TrimPrefix "resources/" .image ) }}
      {{ $resized := $imageResource.Fill "1200x1200" }}
      <img src="{{ $resized.RelPermalink }}" alt="{{.imageAlt}}"/>
    {{ end }}
    <div class="half-text">
      <h2>{{ $.Param "approach.title"}}</h2>
      <p>{{ $.Param "approach.subtitle"}}</p>
    </div>
  </div>
</div>

{{ if in .Params.featured.show "true" }}
{{ partial "featured" . }}
{{ end }}

<div class="home-programs-container">
  <div class="home-programs-text">
    <h2>{{ $.Param "programs.title" }}</h2>
    <p>{{ $.Param "programs.subtitle" }}</p>
  </div>

  <div class="card-grid border">
    {{ $programs := where .Site.Pages "Type" "programs" }}
    {{ range $programs }}
      {{ if eq .Params.show "Show" }}
      <div class="card">
        <img src="{{ .Params.hero.image_ft }}" alt=""/>
        <div class="card-text">
          <h4>{{ .Title }}</h4>
          <p>{{ .Params.blurb }}</p> 
          <a class="arrow-link" href="{{ .RelPermalink | relLangURL }}">{{ $.Param "programs.btn" }}</a>
        </div>
      </div>
      {{ end }}
    {{ end }}
  </div>
</div>

<div class="support-container">
  <div class="support-text">
    <h2>{{ $.Param "getInvolved.title" }}</h2>
  </div>
  <div class="card-grid support">
    <a href="{{ "contribute/" | relLangURL }}" class="no-underline">
      <div class="card bg-yellow">
        <img class="support" src="{{ $.Param "getInvolved.icon1" }}" alt="{{ $.Param "getInvolved.title1" }}">
        <h4>{{ $.Param "getInvolved.title1" }}</h4>
      </div>
    </a>
    <a href="{{ "contribute/" | relLangURL }}" class="no-underline">
      <div class="card bg-green">
        <img class="support" src="{{ $.Param "getInvolved.icon2" }}" alt="{{ $.Param "getInvolved.title2" }}">
        <h4>{{ $.Param "getInvolved.title2" }}</h4>
      </div>
    </a>
    <a href="{{ "contribute/" | relLangURL }}" class="no-underline">
      <div class="card bg-teal">
        <img class="support" src="{{ $.Param "getInvolved.icon3" }}" alt="{{ $.Param "getInvolved.title3" }}">
        <h4>{{ $.Param "getInvolved.title3" }}</h4>
      </div>
    </a>
    <a href="{{ "contribute/" | relLangURL }}" class="no-underline">
      <div class="card bg-blue">
        <img class="support" src="{{ $.Param "getInvolved.icon4" }}" alt="{{ $.Param "getInvolved.title4" }}">
        <h4>{{ $.Param "getInvolved.title4" }}</h4>
      </div>
    </a>
  </div>
</div>

<div class="supporters">
  {{ with .Site.GetPage "about" }}
    <h2>{{ .Params.supporters.heading }}</h2>
    <p>{{ .Params.supporters.description }}</p>
  {{ end}}
  {{ partial "supporter" . }}
</div>


{{ end }}
